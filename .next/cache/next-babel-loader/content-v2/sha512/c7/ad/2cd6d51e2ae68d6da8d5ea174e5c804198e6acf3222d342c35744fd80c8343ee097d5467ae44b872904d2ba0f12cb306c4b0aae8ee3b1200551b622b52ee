{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/juanma/projects/membrane-front/src/legacy/components/Form/Field/DropDown/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { memo, useState, useRef } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid'; //styles\n\nimport * as styles from './styles.module.scss';\nimport * as fieldStyles from '../styles.module.scss'; //components\n\nimport FontAwesomeIcon, { faChevronDown } from '../../../FontAwesomeIcon'; //hook\n\nimport useOutsideClick from '../../../../hooks/useOutsideClick';\n\nfunction DropDown({\n  classes,\n  name,\n  placeholder,\n  items,\n  labelKey,\n  valueKey,\n  displayKey,\n  validation,\n  register,\n  setValue,\n  onOptionChanged\n}) {\n  //bind styles\n  classnames.bind(styles);\n  classnames.bind(fieldStyles); //reference\n\n  const refDropDown = useRef(); //states\n\n  const {\n    0: displayList,\n    1: setDisplayList\n  } = useState(false);\n  const {\n    0: valueSelected,\n    1: setValueSelected\n  } = useState(''); //outside click hook\n\n  useOutsideClick(refDropDown, () => setDisplayList(false));\n\n  const handleDropdown = () => {\n    setDisplayList(!displayList);\n  };\n\n  const handleItemClick = item => {\n    let value = displayKey ? item[displayKey] : item[labelKey];\n    setValue(name, value, {\n      shouldValidate: true\n    });\n    setValueSelected(value);\n    if (onOptionChanged) onOptionChanged(item[valueKey]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: refDropDown,\n    className: classnames(styles.dropDown, classes),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n      className: classnames(fieldStyles.fieldInput)\n    }, register(name, validation)), {}, {\n      onClick: handleDropdown,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: name,\n        type: \"text\",\n        placeholder: placeholder,\n        disabled: true,\n        value: valueSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faChevronDown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: classnames(styles.dropDownList, displayList ? styles['dropDownList--displayed'] : ''),\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleItemClick(item),\n        children: item[labelKey]\n      }, shortid.generate(), false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n} //#region props definitions\n// default values and types\n\n\nDropDown.defaultProps = {\n  items: [],\n  classes: '',\n  placeholder: '',\n  labelKey: '',\n  valueKey: '',\n  displayKey: '',\n  onOptionChanged: undefined\n};\nDropDown.propTypes = {\n  items: PropTypes.array,\n  classes: PropTypes.any,\n  placeholder: PropTypes.string,\n  labelKey: PropTypes.string,\n  valueKey: PropTypes.string,\n  displayKey: PropTypes.string,\n  onOptionChanged: PropTypes.func\n}; //#endregion\n\nexport default /*#__PURE__*/memo(DropDown);","map":{"version":3,"sources":["/home/juanma/projects/membrane-front/src/legacy/components/Form/Field/DropDown/index.js"],"names":["memo","useState","useRef","classnames","PropTypes","shortid","styles","fieldStyles","FontAwesomeIcon","faChevronDown","useOutsideClick","DropDown","classes","name","placeholder","items","labelKey","valueKey","displayKey","validation","register","setValue","onOptionChanged","bind","refDropDown","displayList","setDisplayList","valueSelected","setValueSelected","handleDropdown","handleItemClick","item","value","shouldValidate","dropDown","fieldInput","dropDownList","map","generate","defaultProps","undefined","propTypes","array","any","string","func"],"mappings":"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","sourcesContent":["import { memo, useState, useRef } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\n\n//styles\nimport * as styles from './styles.module.scss';\nimport * as fieldStyles from '../styles.module.scss';\n\n//components\nimport FontAwesomeIcon, { faChevronDown } from '../../../FontAwesomeIcon';\n\n//hook\nimport useOutsideClick from '../../../../hooks/useOutsideClick';\n\nfunction DropDown({\n  classes,\n  name,\n  placeholder,\n  items,\n  labelKey,\n  valueKey,\n  displayKey,\n  validation,\n  register,\n  setValue,\n  onOptionChanged\n}) {\n  //bind styles\n  classnames.bind(styles);\n  classnames.bind(fieldStyles);\n\n  //reference\n  const refDropDown = useRef();\n\n  //states\n  const [displayList, setDisplayList] = useState(false);\n  const [valueSelected, setValueSelected] = useState('');\n\n  //outside click hook\n  useOutsideClick(refDropDown, () => setDisplayList(false));\n\n  const handleDropdown = () => {\n    setDisplayList(!displayList);\n  };\n\n  const handleItemClick = item => {\n    let value = displayKey ? item[displayKey] : item[labelKey];\n\n    setValue(name, value, { shouldValidate: true });\n    setValueSelected(value);\n    if (onOptionChanged) onOptionChanged(item[valueKey]);\n  };\n\n  return (\n    <div ref={refDropDown} className={classnames(styles.dropDown, classes)}>\n      <div\n        className={classnames(fieldStyles.fieldInput)}\n        {...register(name, validation)}\n        onClick={handleDropdown}>\n        <input\n          name={name}\n          type=\"text\"\n          placeholder={placeholder}\n          disabled={true}\n          value={valueSelected}\n        />\n        <FontAwesomeIcon icon={faChevronDown} />\n      </div>\n      <ul\n        className={classnames(\n          styles.dropDownList,\n          displayList ? styles['dropDownList--displayed'] : ''\n        )}>\n        {items.map(item => (\n          <li key={shortid.generate()} onClick={() => handleItemClick(item)}>\n            {item[labelKey]}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n//#region props definitions\n// default values and types\nDropDown.defaultProps = {\n  items: [],\n  classes: '',\n  placeholder: '',\n  labelKey: '',\n  valueKey: '',\n  displayKey: '',\n  onOptionChanged: undefined\n};\n\nDropDown.propTypes = {\n  items: PropTypes.array,\n  classes: PropTypes.any,\n  placeholder: PropTypes.string,\n  labelKey: PropTypes.string,\n  valueKey: PropTypes.string,\n  displayKey: PropTypes.string,\n  onOptionChanged: PropTypes.func\n};\n//#endregion\n\nexport default memo(DropDown);\n"]},"metadata":{},"sourceType":"module"}