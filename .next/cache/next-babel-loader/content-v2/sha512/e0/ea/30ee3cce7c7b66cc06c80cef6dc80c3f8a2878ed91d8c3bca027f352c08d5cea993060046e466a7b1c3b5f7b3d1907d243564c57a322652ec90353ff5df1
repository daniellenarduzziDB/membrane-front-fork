{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/juanma/projects/membrane-front/src/legacy/views/Main/Users/Tabs/Whitelist/index.js\";\nimport { memo, useState, useEffect } from 'react';\nimport classnames from 'classnames';\nimport _ from 'lodash';\nimport getColumnSettings from './columnSettings'; //hooks\n\nimport useWhitelisting from '../../../../../hooks/useWhitelisting'; //components\n\nimport NoEntries from '../../NoEntries';\nimport Pagination from '../../../../../components/Pagination';\nimport Table from '../../../../../components/Table'; //styles\n\nimport * as styles from './styles.module.scss';\nexport default /*#__PURE__*/memo(function Whitelist() {\n  //bind styles\n  classnames.bind(styles); //hook user\n\n  const {\n    fetchEntries,\n    changeEntryStatus,\n    fetchingEntries,\n    entries,\n    totalEntries\n  } = useWhitelisting(); //states\n\n  const {\n    0: itemsPerPage,\n    1: setItemsPerPage\n  } = useState(10);\n  const {\n    0: pageNumber,\n    1: setPageNumber\n  } = useState(1); //effects\n\n  useEffect(() => {\n    if (!fetchingEntries) {\n      fetchEntries({\n        offset: (pageNumber - 1) * itemsPerPage,\n        limit: itemsPerPage\n      });\n    }\n  }, [fetchEntries, pageNumber, itemsPerPage]); //functions\n\n  const onItemsPerPageChange = ipp => {\n    setPageNumber(1);\n    setItemsPerPage(ipp);\n  };\n\n  const onPageChange = newPage => {\n    setPageNumber(newPage);\n  };\n\n  const onChangeStatus = (entryId, allowed) => {\n    const status = allowed ? 'active' : 'disabled';\n    changeEntryStatus(entryId, status);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.whitelist,\n    children: fetchingEntries || entries.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        loading: fetchingEntries,\n        columnSettings: getColumnSettings(onChangeStatus),\n        data: entries\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        loading: fetchingEntries,\n        itemsPerPage: itemsPerPage,\n        currentPageNumber: pageNumber,\n        onItemsPerPageChange: onItemsPerPageChange,\n        onSetPage: onPageChange,\n        totalItems: totalEntries\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(NoEntries, {\n      heading: \"There are no users added yet.\",\n      message: \"Add users to start trading!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n});","map":{"version":3,"sources":["/home/juanma/projects/membrane-front/src/legacy/views/Main/Users/Tabs/Whitelist/index.js"],"names":["memo","useState","useEffect","classnames","_","getColumnSettings","useWhitelisting","NoEntries","Pagination","Table","styles","Whitelist","bind","fetchEntries","changeEntryStatus","fetchingEntries","entries","totalEntries","itemsPerPage","setItemsPerPage","pageNumber","setPageNumber","offset","limit","onItemsPerPageChange","ipp","onPageChange","newPage","onChangeStatus","entryId","allowed","status","whitelist","length"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,iBAAP,MAA8B,kBAA9B,C,CAEA;;AACA,OAAOC,eAAP,MAA4B,sCAA5B,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,OAAOC,KAAP,MAAkB,iCAAlB,C,CAEA;;AACA,OAAO,KAAKC,MAAZ,MAAwB,sBAAxB;AAEA,4BAAeV,IAAI,CAAC,SAASW,SAAT,GAAqB;AACvC;AACAR,EAAAA,UAAU,CAACS,IAAX,CAAgBF,MAAhB,EAFuC,CAIvC;;AACA,QAAM;AACJG,IAAAA,YADI;AAEJC,IAAAA,iBAFI;AAGJC,IAAAA,eAHI;AAIJC,IAAAA,OAJI;AAKJC,IAAAA;AALI,MAMFX,eAAe,EANnB,CALuC,CAavC;;AACA,QAAM;AAAA,OAACY,YAAD;AAAA,OAAeC;AAAf,MAAkClB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAA,OAACmB,UAAD;AAAA,OAAaC;AAAb,MAA8BpB,QAAQ,CAAC,CAAD,CAA5C,CAfuC,CAiBvC;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACa,eAAL,EAAsB;AACpBF,MAAAA,YAAY,CAAC;AACXS,QAAAA,MAAM,EAAE,CAACF,UAAU,GAAC,CAAZ,IAAeF,YADZ;AAEXK,QAAAA,KAAK,EAAEL;AAFI,OAAD,CAAZ;AAID;AACF,GAPQ,EAON,CAACL,YAAD,EAAeO,UAAf,EAA2BF,YAA3B,CAPM,CAAT,CAlBuC,CA2BvC;;AACA,QAAMM,oBAAoB,GAAIC,GAAD,IAAS;AACpCJ,IAAAA,aAAa,CAAC,CAAD,CAAb;AACAF,IAAAA,eAAe,CAACM,GAAD,CAAf;AACD,GAHD;;AAKA,QAAMC,YAAY,GAAIC,OAAD,IAAa;AAChCN,IAAAA,aAAa,CAACM,OAAD,CAAb;AACD,GAFD;;AAIA,QAAMC,cAAc,GAAG,CAACC,OAAD,EAAUC,OAAV,KAAsB;AAC3C,UAAMC,MAAM,GAAGD,OAAO,GAAE,QAAF,GAAW,UAAjC;AACAhB,IAAAA,iBAAiB,CAACe,OAAD,EAAUE,MAAV,CAAjB;AACD,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAErB,MAAM,CAACsB,SAAvB;AAAA,cAEIjB,eAAe,IAAIC,OAAO,CAACiB,MAAR,GAAiB,CAApC,gBACA;AAAA,8BACE,QAAC,KAAD;AACE,QAAA,OAAO,EAAElB,eADX;AAEE,QAAA,cAAc,EAAEV,iBAAiB,CAACuB,cAAD,CAFnC;AAGE,QAAA,IAAI,EAAEZ;AAHR;AAAA;AAAA;AAAA;AAAA,cADF,eAME,QAAC,UAAD;AACE,QAAA,OAAO,EAAED,eADX;AAEE,QAAA,YAAY,EAAEG,YAFhB;AAGE,QAAA,iBAAiB,EAAEE,UAHrB;AAIE,QAAA,oBAAoB,EAAEI,oBAJxB;AAKE,QAAA,SAAS,EAAEE,YALb;AAME,QAAA,UAAU,EAAET;AANd;AAAA;AAAA;AAAA;AAAA,cANF;AAAA,oBADA,gBAiBA,QAAC,SAAD;AACE,MAAA,OAAO,EAAC,+BADV;AAEE,MAAA,OAAO,EAAC;AAFV;AAAA;AAAA;AAAA;AAAA;AAnBJ;AAAA;AAAA;AAAA;AAAA,UADF;AA2BD,CArEkB,CAAnB","sourcesContent":["import { memo, useState, useEffect } from 'react';\nimport classnames from 'classnames';\nimport _ from 'lodash';\nimport getColumnSettings from './columnSettings';\n\n//hooks\nimport useWhitelisting from '../../../../../hooks/useWhitelisting';\n\n//components\nimport NoEntries from '../../NoEntries';\nimport Pagination from '../../../../../components/Pagination';\nimport Table from '../../../../../components/Table';\n\n//styles\nimport * as styles from './styles.module.scss';\n\nexport default memo(function Whitelist() {\n  //bind styles\n  classnames.bind(styles);\n\n  //hook user\n  const { \n    fetchEntries,\n    changeEntryStatus,\n    fetchingEntries,\n    entries,\n    totalEntries \n  } = useWhitelisting();\n\n  //states\n  const [itemsPerPage, setItemsPerPage] = useState(10);\n  const [pageNumber, setPageNumber] = useState(1);\n\n  //effects\n  useEffect(() => {\n    if (!fetchingEntries) {\n      fetchEntries({\n        offset: (pageNumber-1)*itemsPerPage,\n        limit: itemsPerPage\n      });\n    }\n  }, [fetchEntries, pageNumber, itemsPerPage]);\n\n  //functions\n  const onItemsPerPageChange = (ipp) => {\n    setPageNumber(1);\n    setItemsPerPage(ipp);\n  };\n\n  const onPageChange = (newPage) => {\n    setPageNumber(newPage);\n  };\n\n  const onChangeStatus = (entryId, allowed) => {\n    const status = allowed? 'active':'disabled';\n    changeEntryStatus(entryId, status);\n  }\n\n  return (\n    <div className={styles.whitelist}>\n      {\n        fetchingEntries || entries.length > 0 ?\n        <>\n          <Table\n            loading={fetchingEntries}\n            columnSettings={getColumnSettings(onChangeStatus)} \n            data={entries}\n          />\n          <Pagination\n            loading={fetchingEntries}\n            itemsPerPage={itemsPerPage}\n            currentPageNumber={pageNumber}\n            onItemsPerPageChange={onItemsPerPageChange}\n            onSetPage={onPageChange}\n            totalItems={totalEntries}\n          />\n        </>\n        :\n        <NoEntries\n          heading='There are no users added yet.'\n          message='Add users to start trading!'\n        />\n      }\n    </div>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}