{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/juanma/projects/membrane-front/src/legacy/views/SignUp/steps/Password.js\";\nimport { memo, useState } from 'react';\nimport classnames from 'classnames'; //styles\n\nimport * as styles from '../styles.module.scss'; //components\n\nimport Form from '../../../components/Form'; //hooks\n\nimport useUser from '../../../hooks/useUser';\nimport useAlert from '../../../hooks/useAlert';\nexport default /*#__PURE__*/memo(function Password(props) {\n  //bind styles\n  classnames.bind(styles); //hook user\n\n  const {\n    activate\n  } = useUser();\n  const [pushAlert] = useAlert(); //states\n\n  const {\n    0: customError,\n    1: setCustomError\n  } = useState('');\n\n  const onSubmit = data => {\n    const {\n      password,\n      repeatPassword\n    } = data;\n    if (password !== repeatPassword) setCustomError({\n      field: 'repeatPassword',\n      type: 'custom',\n      message: 'The password does not match'\n    });else {\n      activate({\n        password\n      }).then(() => {\n        props.history.push('/sign-in');\n        pushAlert({\n          type: 'success',\n          message: `You have successfully signed up on Membrane! Proceed to login to start the onboarding.`,\n          lifetime: 5000\n        });\n      }).catch(error => {\n        pushAlert({\n          type: 'error',\n          message: error.message,\n          lifetime: 5000\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Please, set up your password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"*Required fields\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.signUpForm,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        customError: customError,\n        items: [{\n          label: 'Password *',\n          name: 'password',\n          placeholder: 'Be sure yo use a strong password',\n          type: 'password-secure'\n        }, {\n          label: 'Repeat Password *',\n          name: 'repeatPassword',\n          placeholder: 'Repeat your password',\n          type: 'password',\n          validation: {\n            required: 'This field is required'\n          }\n        }],\n        actions: [{\n          type: 'primary',\n          useSubmitBehavior: true,\n          label: 'Next',\n          onClick: onSubmit\n        }, {\n          type: 'secondary',\n          label: 'Back',\n          onClick: () => props.onBack()\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n});","map":{"version":3,"sources":["/home/juanma/projects/membrane-front/src/legacy/views/SignUp/steps/Password.js"],"names":["memo","useState","classnames","styles","Form","useUser","useAlert","Password","props","bind","activate","pushAlert","customError","setCustomError","onSubmit","data","password","repeatPassword","field","type","message","then","history","push","lifetime","catch","error","signUpForm","label","name","placeholder","validation","required","useSubmitBehavior","onClick","onBack"],"mappings":"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","sourcesContent":["import { memo, useState } from 'react';\nimport classnames from 'classnames';\n\n//styles\nimport * as styles from '../styles.module.scss';\n\n//components\nimport Form from '../../../components/Form';\n\n//hooks\nimport useUser from '../../../hooks/useUser';\nimport useAlert from '../../../hooks/useAlert';\n\nexport default memo(function Password(props) {\n  //bind styles\n  classnames.bind(styles);\n\n  //hook user\n  const { activate } = useUser();\n  const [pushAlert] = useAlert();\n\n  //states\n  const [customError, setCustomError] = useState('');\n\n  const onSubmit = data => {\n    const { password, repeatPassword } = data;\n\n    if (password !== repeatPassword)\n      setCustomError({\n        field: 'repeatPassword',\n        type: 'custom',\n        message: 'The password does not match'\n      });\n    else {\n      activate({ password })\n        .then(() => {\n          props.history.push('/sign-in');\n          pushAlert({\n            type: 'success',\n            message: `You have successfully signed up on Membrane! Proceed to login to start the onboarding.`,\n            lifetime: 5000\n          });\n        })\n        .catch(error => {\n          pushAlert({\n            type: 'error',\n            message: error.message,\n            lifetime: 5000\n          });\n        });\n    }\n  };\n\n  return (\n    <>\n      <label>Please, set up your password</label>\n      <span>*Required fields</span>\n      <div className={styles.signUpForm}>\n        <Form\n          customError={customError}\n          items={[\n            {\n              label: 'Password *',\n              name: 'password',\n              placeholder: 'Be sure yo use a strong password',\n              type: 'password-secure'\n            },\n            {\n              label: 'Repeat Password *',\n              name: 'repeatPassword',\n              placeholder: 'Repeat your password',\n              type: 'password',\n              validation: {\n                required: 'This field is required'\n              }\n            }\n          ]}\n          actions={[\n            {\n              type: 'primary',\n              useSubmitBehavior: true,\n              label: 'Next',\n              onClick: onSubmit\n            },\n            {\n              type: 'secondary',\n              label: 'Back',\n              onClick: () => props.onBack()\n            }\n          ]}\n        />\n      </div>\n    </>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}