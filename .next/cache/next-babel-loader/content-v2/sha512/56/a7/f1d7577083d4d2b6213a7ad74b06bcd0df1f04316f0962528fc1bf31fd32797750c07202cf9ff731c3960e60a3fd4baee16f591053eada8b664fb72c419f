{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/juanma/projects/membrane-front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/juanma/projects/membrane-front/src/legacy/views/SignUp/steps/Password.js\",\n    _s = $RefreshSig$();\n\nimport { memo, useState } from 'react';\nimport classnames from 'classnames'; //styles\n\nimport * as styles from '../styles.module.scss'; //components\n\nimport Form from '../../../components/Form'; //hooks\n\nimport useUser from '../../../hooks/useUser';\nimport useAlert from '../../../hooks/useAlert';\nexport default _c2 = /*#__PURE__*/memo(_c = _s(function Password(props) {\n  _s();\n\n  //bind styles\n  classnames.bind(styles); //hook user\n\n  var _useUser = useUser(),\n      activate = _useUser.activate;\n\n  var _useAlert = useAlert(),\n      _useAlert2 = _slicedToArray(_useAlert, 1),\n      pushAlert = _useAlert2[0]; //states\n\n\n  var _useState = useState(''),\n      customError = _useState[0],\n      setCustomError = _useState[1];\n\n  var onSubmit = function onSubmit(data) {\n    var password = data.password,\n        repeatPassword = data.repeatPassword;\n    if (password !== repeatPassword) setCustomError({\n      field: 'repeatPassword',\n      type: 'custom',\n      message: 'The password does not match'\n    });else {\n      activate({\n        password: password\n      }).then(function () {\n        props.history.push('/sign-in');\n        pushAlert({\n          type: 'success',\n          message: \"You have successfully signed up on Membrane! Proceed to login to start the onboarding.\",\n          lifetime: 5000\n        });\n      })[\"catch\"](function (error) {\n        pushAlert({\n          type: 'error',\n          message: error.message,\n          lifetime: 5000\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Please, set up your password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"*Required fields\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.signUpForm,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        customError: customError,\n        items: [{\n          label: 'Password *',\n          name: 'password',\n          placeholder: 'Be sure yo use a strong password',\n          type: 'password-secure'\n        }, {\n          label: 'Repeat Password *',\n          name: 'repeatPassword',\n          placeholder: 'Repeat your password',\n          type: 'password',\n          validation: {\n            required: 'This field is required'\n          }\n        }],\n        actions: [{\n          type: 'primary',\n          useSubmitBehavior: true,\n          label: 'Next',\n          onClick: onSubmit\n        }, {\n          type: 'secondary',\n          label: 'Back',\n          onClick: function onClick() {\n            return props.onBack();\n          }\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"e3/v817f70iJt5EvtsROeq/phDU=\", false, function () {\n  return [useUser, useAlert];\n}));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"%default%$memo\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/juanma/projects/membrane-front/src/legacy/views/SignUp/steps/Password.js"],"names":["memo","useState","classnames","styles","Form","useUser","useAlert","Password","props","bind","activate","pushAlert","customError","setCustomError","onSubmit","data","password","repeatPassword","field","type","message","then","history","push","lifetime","error","signUpForm","label","name","placeholder","validation","required","useSubmitBehavior","onClick","onBack"],"mappings":"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","sourcesContent":["import { memo, useState } from 'react';\nimport classnames from 'classnames';\n\n//styles\nimport * as styles from '../styles.module.scss';\n\n//components\nimport Form from '../../../components/Form';\n\n//hooks\nimport useUser from '../../../hooks/useUser';\nimport useAlert from '../../../hooks/useAlert';\n\nexport default memo(function Password(props) {\n  //bind styles\n  classnames.bind(styles);\n\n  //hook user\n  const { activate } = useUser();\n  const [pushAlert] = useAlert();\n\n  //states\n  const [customError, setCustomError] = useState('');\n\n  const onSubmit = data => {\n    const { password, repeatPassword } = data;\n\n    if (password !== repeatPassword)\n      setCustomError({\n        field: 'repeatPassword',\n        type: 'custom',\n        message: 'The password does not match'\n      });\n    else {\n      activate({ password })\n        .then(() => {\n          props.history.push('/sign-in');\n          pushAlert({\n            type: 'success',\n            message: `You have successfully signed up on Membrane! Proceed to login to start the onboarding.`,\n            lifetime: 5000\n          });\n        })\n        .catch(error => {\n          pushAlert({\n            type: 'error',\n            message: error.message,\n            lifetime: 5000\n          });\n        });\n    }\n  };\n\n  return (\n    <>\n      <label>Please, set up your password</label>\n      <span>*Required fields</span>\n      <div className={styles.signUpForm}>\n        <Form\n          customError={customError}\n          items={[\n            {\n              label: 'Password *',\n              name: 'password',\n              placeholder: 'Be sure yo use a strong password',\n              type: 'password-secure'\n            },\n            {\n              label: 'Repeat Password *',\n              name: 'repeatPassword',\n              placeholder: 'Repeat your password',\n              type: 'password',\n              validation: {\n                required: 'This field is required'\n              }\n            }\n          ]}\n          actions={[\n            {\n              type: 'primary',\n              useSubmitBehavior: true,\n              label: 'Next',\n              onClick: onSubmit\n            },\n            {\n              type: 'secondary',\n              label: 'Back',\n              onClick: () => props.onBack()\n            }\n          ]}\n        />\n      </div>\n    </>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}